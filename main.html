<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy 3rd Anniversary!</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Georgia', serif;
            background: linear-gradient(135deg, #f5e6d3 0%, #e8d5c4 100%);
            color: #5a4a42;
            line-height: 1.6;
            min-height: 100vh;
        }

        /* Password Page */
        #passwordPage {
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            padding: 20px;
        }

        #passwordPage.hidden {
            display: none;
        }

        .password-container {
            background: white;
            padding: 60px 40px;
            border-radius: 20px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
            text-align: center;
            max-width: 500px;
            width: 100%;
            animation: fadeIn 1s;
        }

        .password-container .cat-decoration {
            font-size: 4em;
            margin-bottom: 20px;
            animation: float 3s ease-in-out infinite;
        }

        .password-container .cat-decoration img {
            width: 120px;
            height: 120px;
            object-fit: contain;
        }

        .password-container h1 {
            color: #8b6f6f;
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .password-container p {
            color: #a08080;
            font-size: 1.2em;
            margin-bottom: 30px;
        }

        .password-input {
            width: 100%;
            padding: 15px;
            font-size: 1.2em;
            border: 2px solid #c4d7ed;
            border-radius: 10px;
            text-align: center;
            font-family: 'Georgia', serif;
            margin-bottom: 20px;
            transition: all 0.3s;
        }

        .password-input:focus {
            outline: none;
            border-color: #ffd6e0;
            box-shadow: 0 0 10px rgba(255, 214, 224, 0.5);
        }

        .password-btn {
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, #ffd6e0 0%, #c4d7ed 100%);
            border: none;
            border-radius: 10px;
            font-size: 1.2em;
            color: #5a4a42;
            cursor: pointer;
            font-family: 'Georgia', serif;
            transition: all 0.3s;
            font-weight: bold;
        }

        .password-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .error-message {
            color: #d44;
            margin-top: 15px;
            font-size: 1em;
            opacity: 0;
            transition: opacity 0.3s;
        }

        .error-message.show {
            opacity: 1;
        }

        .hint-message {
            color: #8b6f6f;
            background: #ffd6e0;
            padding: 15px;
            border-radius: 10px;
            margin-top: 20px;
            font-size: 1em;
            opacity: 0;
            transition: opacity 0.3s;
        }

        .hint-message.show {
            opacity: 1;
        }

        /* Main Website */
        #mainWebsite {
            display: none;
        }

        #mainWebsite.show {
            display: block;
        }

        /* Surprise Box Page */
        #surpriseBoxPage {
            display: none;
            min-height: 100vh;
            align-items: center;
            justify-content: center;
            padding: 20px;
            perspective: 1000px;
        }

        #surpriseBoxPage.show {
            display: flex;
        }

        .surprise-container {
            text-align: center;
            max-width: 600px;
        }

        .surprise-container h2 {
            color: #8b6f6f;
            font-size: 2em;
            margin-bottom: 40px;
        }

        .box-scene {
            width: 400px;
            height: 400px;
            margin: 0 auto;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .gift-box-3d {
            position: relative;
            cursor: pointer;
            transition: transform 0.3s;
            font-size: 250px;
            text-align: center;
        }

        .gift-box-3d:hover {
            transform: scale(1.1);
        }

        .box-base {
            filter: drop-shadow(0 10px 30px rgba(0, 0, 0, 0.3));
        }

        /* Click button - hidden */
        .click-button {
            display: none;
        }

        /* Opening animation */
        .gift-box-3d.opening .box-base {
            animation: boxExplode 1s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards;
        }

        @keyframes boxExplode {
            0% {
                transform: scale(1) rotate(0deg);
                opacity: 1;
            }
            50% {
                transform: scale(1.3) rotate(10deg);
                opacity: 0.5;
            }
            100% {
                transform: scale(2) rotate(20deg);
                opacity: 0;
            }
        }

        .gift-box-3d.opening .click-button {
            display: none;
        }

        .gift-box-3d.opening {
            animation: gentleShake 0.6s;
        }

        @keyframes gentleShake {
            0%, 100% { transform: scale(1); }
            25% { transform: rotate(-5deg); }
            75% { transform: rotate(5deg); }
        }

        /* Hide all other elements */
        .box-left-side,
        .box-top-side,
        .ribbon-v,
        .ribbon-h,
        .bow {
            display: none;
        }

        /* Confetti */
        .confetti {
            position: absolute;
            width: 10px;
            height: 10px;
            background: #ffd6e0;
            opacity: 0;
        }

        .confetti.burst {
            animation: confettiBurst 1.5s ease-out forwards;
        }

        @keyframes confettiBurst {
            0% {
                opacity: 1;
                transform: translate(0, 0) rotate(0deg);
            }
            100% {
                opacity: 0;
                transform: translate(var(--tx), var(--ty)) rotate(720deg);
            }
        }

        .surprise-reveal {
            display: none;
            animation: popIn 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            line-height: 1;
        }

        .surprise-reveal.show {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0;
        }

        /* When revealed, nudge the reveal block upward so it appears closer to the top
           (only moves the revealed content; does not change GIF or text sizes) */
        .surprise-reveal.revealed {
            margin-top: -400px; /* moved further up */
            transition: margin-top 360ms ease;
        }

        @media (max-width: 480px) {
            .surprise-reveal.revealed { margin-top: -160px; }
        }

        @keyframes popIn {
            0% {
                transform: scale(0) rotate(0deg);
                opacity: 0;
            }
            50% {
                transform: scale(1.2) rotate(180deg);
            }
            100% {
                transform: scale(1) rotate(360deg);
                opacity: 1;
            }
        }

        .surprise-cat {
            font-size: 8em;
            margin: 0 0 -8px 0;
            animation: bounce 1s infinite;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }

        .surprise-message {
            font-size: 3em;
            color: #8b6f6f;
            font-weight: bold;
            margin: 0 0 0 0;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }

        .continue-btn {
            margin-top: 30px;
            padding: 15px 40px;
            background: linear-gradient(135deg, #ffd6e0 0%, #c4d7ed 100%);
            border: none;
            border-radius: 25px;
            font-size: 1.3em;
            color: #5a4a42;
            cursor: pointer;
            font-family: 'Georgia', serif;
            transition: all 0.3s;
            font-weight: bold;
        }

        .continue-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 20px rgba(0,0,0,0.3);
        }

        .click-instruction {
            color: #a08080;
            font-size: 1.2em;
            margin-top: 30px;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .page {
            display: none;
            animation: fadeIn 0.5s;
        }

        .page.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }

        .header {
            text-align: center;
            padding: 60px 20px;
            background: linear-gradient(135deg, #ffd6e0 0%, #c4d7ed 100%);
            position: relative;
            overflow: hidden;
        }

        .header h1 {
            font-size: 3em;
            color: #8b6f6f;
            margin-bottom: 10px;
            animation: slideDown 1s ease-out;
        }

        .header p {
            font-size: 1.3em;
            color: #a08080;
        }

        @keyframes slideDown {
            from { transform: translateY(-50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .cat-gif {
            width: 100px;
            height: 100px;
            position: absolute;
            animation: float 3s ease-in-out infinite;
            object-fit: contain;
        }

        .cat-gif.left {
            left: 10%;
            top: 20%;
        }

        .cat-gif.right {
            right: 10%;
            top: 30%;
        }

        .cat-gif img {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }

        .nav {
            background: #f9f0e8;
            padding: 20px;
            text-align: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 100;
            display: none;
        }

        .nav.show {
            display: block;
        }

        .nav button {
            background: #c4d7ed;
            border: none;
            padding: 12px 30px;
            margin: 5px 10px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1em;
            color: #5a4a42;
            transition: all 0.3s;
            font-family: 'Georgia', serif;
        }

        .nav button:hover {
            background: #ffd6e0;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }

        .nav button.active {
            background: #ffd6e0;
            font-weight: bold;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 20px;
            min-height: 60vh;
        }

        .section {
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }

        .section h2 {
            color: #8b6f6f;
            font-size: 2.5em;
            margin-bottom: 30px;
            text-align: center;
        }

        .cat-decoration {
            text-align: center;
            font-size: 3em;
            margin: 20px 0;
        }

        /* Home Page */
        .home-content {
            text-align: center;
            padding: 20px 20px;
        }

        .home-content h2 {
            font-size: 2.5em;
            color: #8b6f6f;
            margin-bottom: 10px;
        }

        .home-content p {
            font-size: 1.3em;
            color: #6a5a5a;
            margin-bottom: 30px;
        }

        .menu-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }

        .menu-card {
            background: white;
            padding: 40px;
            border-radius: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .menu-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .menu-card .icon {
            font-size: 4em;
            margin-bottom: 20px;
        }

        .menu-card h3 {
            font-size: 1.5em;
            color: #8b6f6f;
            margin-bottom: 10px;
        }

        .menu-card p {
            color: #a08080;
            font-size: 1em;
        }

        /* Timeline */
        .timeline {
            position: relative;
            padding: 20px 0;
        }

        .timeline-item {
            display: flex;
            margin: 30px 0;
            align-items: center;
            opacity: 0;
            animation: slideIn 0.6s forwards;
        }

        .timeline-item:nth-child(even) {
            flex-direction: row-reverse;
        }

        @keyframes slideIn {
            to { opacity: 1; }
        }

        .timeline-content {
            flex: 1;
            padding: 20px;
        }

        .timeline-photo {
            width: 300px;
            height: 300px;
            border-radius: 15px;
            object-fit: cover;
            border: 5px solid #ffd6e0;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }

        .timeline-date {
            background: #c4d7ed;
            padding: 8px 20px;
            border-radius: 20px;
            display: inline-block;
            margin-bottom: 10px;
            font-weight: bold;
        }

        .timeline-description {
            font-size: 1.1em;
            color: #6a5a5a;
        }

        .placeholder-img {
            background: linear-gradient(135deg, #ffd6e0 0%, #c4d7ed 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: #8b6f6f;
            font-style: italic;
        }

        /* Memory Game */
        .memory-game {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
            margin-top: 20px;
        }

        .memory-card {
            aspect-ratio: 1;
            background: #c4d7ed;
            border-radius: 10px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2em;
            transition: transform 0.3s;
        }

        .memory-card:hover {
            transform: scale(1.05);
        }

        .memory-card.flipped {
            background: #ffd6e0;
        }

        .memory-card.matched {
            background: #b8e6b8;
            cursor: default;
        }

        /* Quiz */
        .quiz-question {
            margin: 30px 0;
        }

        .quiz-options {
            display: grid;
            gap: 15px;
            margin-top: 15px;
        }

        .quiz-option {
            background: #f9f0e8;
            padding: 15px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid transparent;
        }

        .quiz-option:hover {
            background: #c4d7ed;
            transform: translateX(5px);
        }

        .quiz-option.correct {
            background: #b8e6b8;
            border-color: #4a9d4a;
        }

        .quiz-option.incorrect {
            background: #ffb8b8;
            border-color: #d44;
        }

        /* Love Letter */
        .love-letter {
            font-size: 1.3em;
            line-height: 2;
            padding: 40px;
            background: linear-gradient(135deg, #ffd6e0 0%, #c4d7ed 100%);
            border-radius: 15px;
            text-align: left;
        }

        .love-letter p {
            margin-bottom: 20px;
        }

        .score {
            text-align: center;
            font-size: 1.5em;
            margin: 20px 0;
            color: #8b6f6f;
        }

        .btn {
            padding: 12px 30px;
            background: #ffd6e0;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1em;
            font-family: 'Georgia', serif;
            transition: all 0.3s;
            margin: 10px;
        }

        .btn:hover {
            background: #c4d7ed;
            transform: translateY(-2px);
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 2em;
            }
            
            .timeline-item {
                flex-direction: column !important;
            }
            
            .timeline-photo {
                width: 100%;
                max-width: 300px;
            }
            
            .memory-game {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .nav button {
                padding: 10px 15px;
                font-size: 0.9em;
                margin: 5px;
            }

            .menu-grid {
                grid-template-columns: 1fr;
            }

            .password-container {
                padding: 40px 30px;
            }

            .password-container h1 {
                font-size: 2em;
            }
        }
    </style>
</head>
<body>
    <!-- PASSWORD PAGE -->
    <div id="passwordPage">
        <div class="password-container">
            <div class="cat-decoration">
                <img src="https://media.giphy.com/media/3oriO0OEd9QIDdllqo/giphy.gif" alt="lock cat">
            </div>
            <h1>Enter Password</h1>
            <p>Enter 6 digit passcode to unlock!</p>
            <input type="password" id="passwordInput" class="password-input" placeholder="Enter passcode" maxlength="6">
            <button class="password-btn" onclick="checkPassword()">Enter</button>
            <div id="errorMessage" class="error-message">Incorrect passcode. Try again! üê±</div>
            <div id="hintMessage" class="hint-message">üí° Hint 1: our anniversary date</div>
        </div>
    </div>

    <!-- SURPRISE BOX PAGE -->
    <div id="surpriseBoxPage">
        <div class="surprise-container">
            <h2>You got a delivery package!</h2>
            
            <div class="box-scene">
                <div id="giftBox3D" class="gift-box-3d" onclick="openBox()">
                    <div class="click-button">Click to open!</div>
                    <div class="box-base">üéÅ</div>
                </div>
                <div id="confettiContainer"></div>
            </div>
            
            <p class="click-instruction">Click the gift box to open!</p>
            
            <div id="surpriseReveal" class="surprise-reveal">
                <div class="surprise-cat">
                    <img src="https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExNWFpb3gydDBzcnk0cHp0d3g5a2NiY2JobWtxdnNqbXJ4MWN2NXBpdSZlcD12MV9naWZzX3NlYXJjaCZjdD1n/CzBhMlhTrNlAkYLuLS/giphy.gif" alt="party cat" style="width: 400px; height: 400px; object-fit: contain;">
                </div>
                <div class="surprise-message">Happy Anniversary Stinky Rat!!</div>
                <div class="cat-decoration">üéâüíï‚ú®</div>
                <button class="continue-btn" onclick="continueToSite()">Continue to Your Surprise ‚Üí</button>
            </div>
        </div>
    </div>

    <!-- MAIN WEBSITE -->
    <div id="mainWebsite">
        <div class="header">
            <div class="cat-gif left">
                <img src="https://media.giphy.com/media/JIX9t2j0ZTN9S/giphy.gif" alt="cute cat">
            </div>
            <div class="cat-gif right">
                <img src="https://media.giphy.com/media/VxbvpfaTTo3le/giphy.gif" alt="cute cat">
            </div>
            <h1 id="mainTitle">Happy 3rd Anniversary!</h1>
            <p>Three amazing years together</p>
        </div>

        <div class="nav">
            <button onclick="navigateTo('home')" id="nav-home">Home</button>
            <button onclick="navigateTo('timeline')" id="nav-timeline">Our Memories</button>
            <button onclick="navigateTo('game')" id="nav-game">Memory Game</button>
            <button onclick="navigateTo('quiz')" id="nav-quiz">Love Quiz</button>
            <button onclick="navigateTo('letter')" id="nav-letter">Love Letter</button>
        </div>

        <!-- HOME PAGE -->
        <div id="home" class="page active">
            <div class="container">
                <div class="section">
                    <div class="home-content">
                        <div class="cat-decoration">üòªüíïüò∫</div>
                        <h2>Welcome to Our Special Day!</h2>
                        <p>Celebrating three wonderful years together</p>
                        
                        <div class="menu-grid">
                            <div class="menu-card" onclick="navigateTo('timeline')">
                                <div class="icon">üì∏</div>
                                <h3>Our Memories</h3>
                                <p>A journey through our year together</p>
                            </div>
                            
                            <div class="menu-card" onclick="navigateTo('game')">
                                <div class="icon">üéÆ</div>
                                <h3>Memory Game</h3>
                                <p>Match the pairs!</p>
                            </div>
                            
                            <div class="menu-card" onclick="navigateTo('quiz')">
                                <div class="icon">‚ùì</div>
                                <h3>Love Quiz</h3>
                                <p>How well do you know us?</p>
                            </div>
                            
                            <div class="menu-card" onclick="navigateTo('letter')">
                                <div class="icon">üíå</div>
                                <h3>Love Letter</h3>
                                <p>A special message for you</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- TIMELINE PAGE -->
        <div id="timeline" class="page">
            <div class="container">
                <div class="section">
                    <h2>Our Journey This Year üíï</h2>
                    <div class="cat-decoration">üê±üíùüò∫</div>
                    
                    <div class="timeline">
                        <div class="timeline-item" style="animation-delay: 0.1s;">
                            <div class="timeline-content">
                                <div class="timeline-date">January 2024</div>
                                <div class="timeline-description">Add your memory description here!</div>
                            </div>
                            <div class="timeline-photo placeholder-img">Your Photo Here</div>
                        </div>

                        <div class="timeline-item" style="animation-delay: 0.2s;">
                            <div class="timeline-content">
                                <div class="timeline-date">February 2024</div>
                                <div class="timeline-description">Add your memory description here!</div>
                            </div>
                            <div class="timeline-photo placeholder-img">Your Photo Here</div>
                        </div>

                        <div class="timeline-item" style="animation-delay: 0.3s;">
                            <div class="timeline-content">
                                <div class="timeline-date">March 2024</div>
                                <div class="timeline-description">Add your memory description here!</div>
                            </div>
                            <div class="timeline-photo placeholder-img">Your Photo Here</div>
                        </div>

                        <div class="timeline-item" style="animation-delay: 0.4s;">
                            <div class="timeline-content">
                                <div class="timeline-date">April 2024</div>
                                <div class="timeline-description">Add your memory description here!</div>
                            </div>
                            <div class="timeline-photo placeholder-img">Your Photo Here</div>
                        </div>

                        <div class="timeline-item" style="animation-delay: 0.5s;">
                            <div class="timeline-content">
                                <div class="timeline-date">May 2024</div>
                                <div class="timeline-description">Add your memory description here!</div>
                            </div>
                            <div class="timeline-photo placeholder-img">Your Photo Here</div>
                        </div>

                        <div class="timeline-item" style="animation-delay: 0.6s;">
                            <div class="timeline-content">
                                <div class="timeline-date">June 2024</div>
                                <div class="timeline-description">Add your memory description here!</div>
                            </div>
                            <div class="timeline-photo placeholder-img">Your Photo Here</div>
                        </div>

                        <div class="timeline-item" style="animation-delay: 0.7s;">
                            <div class="timeline-content">
                                <div class="timeline-date">July 2024</div>
                                <div class="timeline-description">Add your memory description here!</div>
                            </div>
                            <div class="timeline-photo placeholder-img">Your Photo Here</div>
                        </div>

                        <div class="timeline-item" style="animation-delay: 0.8s;">
                            <div class="timeline-content">
                                <div class="timeline-date">August 2024</div>
                                <div class="timeline-description">Add your memory description here!</div>
                            </div>
                            <div class="timeline-photo placeholder-img">Your Photo Here</div>
                        </div>

                        <div class="timeline-item" style="animation-delay: 0.9s;">
                            <div class="timeline-content">
                                <div class="timeline-date">September 2024</div>
                                <div class="timeline-description">Add your memory description here!</div>
                            </div>
                            <div class="timeline-photo placeholder-img">Your Photo Here</div>
                        </div>

                        <div class="timeline-item" style="animation-delay: 1s;">
                            <div class="timeline-content">
                                <div class="timeline-date">October 2024</div>
                                <div class="timeline-description">Add your memory description here!</div>
                            </div>
                            <div class="timeline-photo placeholder-img">Your Photo Here</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- MEMORY GAME PAGE -->
        <div id="game" class="page">
            <div class="container">
                <div class="section">
                    <h2>Memory Match Game üê±</h2>
                    <div class="cat-decoration">üò∫üíïüò∏</div>
                    <p style="text-align: center; margin: 20px 0;">Match the pairs of our special moments!</p>
                    <div class="score">Moves: <span id="moves">0</span> | Matches: <span id="matches">0/8</span></div>
                    <div class="memory-game" id="gameBoard"></div>
                    <div style="text-align: center;">
                        <button class="btn" onclick="resetGame()">Reset Game</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- QUIZ PAGE -->
        <div id="quiz" class="page">
            <div class="container">
                <div class="section">
                    <h2>How Well Do You Know Us? üíï</h2>
                    <div class="cat-decoration">üòªüéØüò∫</div>
                    <div id="quizContent"></div>
                </div>
            </div>
        </div>

        <!-- LOVE LETTER PAGE -->
        <div id="letter" class="page">
            <div class="container">
                <div class="section">
                    <h2>A Letter to You üíå</h2>
                    <div class="cat-decoration">üòªüíïüò∫</div>
                    <div class="love-letter">
                        <p>My Dearest [Partner's Name],</p>
                        <p>Three years ago, [add your story of how your relationship began or what makes this special]...</p>
                        <p>[Add your heartfelt message here - talk about your favorite memories, what you love about them, your hopes for the future...]</p>
                        <p>[Continue with more personal thoughts and feelings...]</p>
                        <p>Here's to many more adventures together! üê±üíï</p>
                        <p style="text-align: right; margin-top: 40px;">Forever yours,<br>[Your Name]</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const correctPassword = "051222";
        let wrongAttempts = 0;

        // Check password on Enter key
        document.getElementById('passwordInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                checkPassword();
            }
        });

        function checkPassword() {
            const input = document.getElementById('passwordInput').value;
            const errorMsg = document.getElementById('errorMessage');
            const hintMsg = document.getElementById('hintMessage');
            
            if (input === correctPassword) {
                // Correct password - show surprise box page
                document.getElementById('passwordPage').classList.add('hidden');
                document.getElementById('surpriseBoxPage').classList.add('show');
            } else {
                // Wrong password - increment attempts and show error and hint
                wrongAttempts++;
                
                // Update hint based on number of attempts
                if (wrongAttempts === 1) {
                    hintMsg.innerHTML = 'üí° Hint 1: our anniversary date';
                } else if (wrongAttempts === 2) {
                    hintMsg.innerHTML = 'üí° Hint 2: DDMMYY';
                } else if (wrongAttempts >= 3) {
                    hintMsg.innerHTML = 'üí° Hint 3: December 2022';
                }
                
                errorMsg.classList.add('show');
                hintMsg.classList.add('show');
                document.getElementById('passwordInput').value = '';
                document.getElementById('passwordInput').focus();
                
                // Hide error after 3 seconds (but keep hint visible)
                setTimeout(() => {
                    errorMsg.classList.remove('show');
                }, 3000);
            }
        }

        // Surprise Box Functions
        function openBox() {
            const giftBox = document.getElementById('giftBox3D');
            const surpriseReveal = document.getElementById('surpriseReveal');
            const clickInstruction = document.querySelector('.click-instruction');
            const surpriseHeading = document.querySelector('#surpriseBoxPage .surprise-container h2');
            
            // Hide the top heading immediately when the box is clicked
            if (surpriseHeading) surpriseHeading.style.display = 'none';

            // Add opening animation
            giftBox.classList.add('opening');
            
            // Create confetti burst
            createConfetti();
            
            // After animation, show surprise and nudge the reveal up
            setTimeout(() => {
                giftBox.style.display = 'none';
                clickInstruction.style.display = 'none';
                // add both classes: show -> makes it visible, revealed -> moves it upward
                surpriseReveal.classList.add('show');
                surpriseReveal.classList.add('revealed');
            }, 1500);
        }

        function createConfetti() {
            const container = document.getElementById('confettiContainer');
            const colors = ['#ffd6e0', '#c4d7ed', '#ff6b9d', '#ffb3c6', '#a8c4e8'];
            
            for (let i = 0; i < 50; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                confetti.style.left = '50%';
                confetti.style.top = '50%';
                
                const tx = (Math.random() - 0.5) * 600;
                const ty = (Math.random() - 0.5) * 600;
                confetti.style.setProperty('--tx', tx + 'px');
                confetti.style.setProperty('--ty', ty + 'px');
                
                container.appendChild(confetti);
                
                setTimeout(() => {
                    confetti.classList.add('burst');
                }, 100);
                
                setTimeout(() => {
                    confetti.remove();
                }, 1600);
            }
        }

        function continueToSite() {
            document.getElementById('surpriseBoxPage').classList.remove('show');
            document.getElementById('mainWebsite').classList.add('show');
        }

        // Navigation
        function navigateTo(pageId) {
            // Show navigation bar when leaving home page
            const nav = document.querySelector('.nav');
            if (pageId !== 'home') {
                nav.classList.add('show');
            } else {
                nav.classList.remove('show');
            }

            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });
            
            document.getElementById(pageId).classList.add('active');
            
            document.querySelectorAll('.nav button').forEach(btn => {
                btn.classList.remove('active');
            });
            document.getElementById('nav-' + pageId).classList.add('active');
            
            if (pageId === 'game') {
                initGame();
            } else if (pageId === 'quiz') {
                loadQuiz();
            }
            
            window.scrollTo(0, 0);
        }

        // Memory Game
        const emojis = ['üíï', 'üòª', 'üê±', 'üíù', 'üò∫', 'üéÅ', 'üíñ', 'üåü'];
        let cards = [...emojis, ...emojis];
        let flippedCards = [];
        let matchedPairs = 0;
        let moves = 0;

        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        function initGame() {
            const gameBoard = document.getElementById('gameBoard');
            gameBoard.innerHTML = '';
            cards = shuffleArray([...emojis, ...emojis]);
            matchedPairs = 0;
            moves = 0;
            flippedCards = [];
            document.getElementById('moves').textContent = '0';
            document.getElementById('matches').textContent = '0/8';

            cards.forEach((emoji, index) => {
                const card = document.createElement('div');
                card.className = 'memory-card';
                card.dataset.emoji = emoji;
                card.dataset.index = index;
                card.textContent = '?';
                card.onclick = () => flipCard(card);
                gameBoard.appendChild(card);
            });
        }

        function flipCard(card) {
            if (flippedCards.length === 2 || card.classList.contains('flipped') || card.classList.contains('matched')) {
                return;
            }

            card.classList.add('flipped');
            card.textContent = card.dataset.emoji;
            flippedCards.push(card);

            if (flippedCards.length === 2) {
                moves++;
                document.getElementById('moves').textContent = moves;
                checkMatch();
            }
        }

        function checkMatch() {
            const [card1, card2] = flippedCards;
            
            if (card1.dataset.emoji === card2.dataset.emoji) {
                card1.classList.add('matched');
                card2.classList.add('matched');
                matchedPairs++;
                document.getElementById('matches').textContent = `${matchedPairs}/8`;
                flippedCards = [];
                
                if (matchedPairs === 8) {
                    setTimeout(() => alert(`Congratulations! You won in ${moves} moves! üéâ`), 300);
                }
            } else {
                setTimeout(() => {
                    card1.classList.remove('flipped');
                    card2.classList.remove('flipped');
                    card1.textContent = '?';
                    card2.textContent = '?';
                    flippedCards = [];
                }, 1000);
            }
        }

        function resetGame() {
            initGame();
        }

        // Quiz
        const quizQuestions = [
            {
                question: "Where did we go on our first date?",
                options: ["[Option 1]", "[Option 2]", "[Option 3]", "[Option 4]"],
                correct: 0
            },
            {
                question: "What's my favorite thing about you?",
                options: ["[Option 1]", "[Option 2]", "[Option 3]", "[Option 4]"],
                correct: 0
            },
            {
                question: "What was our most memorable moment this year?",
                options: ["[Option 1]", "[Option 2]", "[Option 3]", "[Option 4]"],
                correct: 0
            },
            {
                question: "What's our favorite activity to do together?",
                options: ["[Option 1]", "[Option 2]", "[Option 3]", "[Option 4]"],
                correct: 0
            },
            {
                question: "What's our special song?",
                options: ["[Option 1]", "[Option 2]", "[Option 3]", "[Option 4]"],
                correct: 0
            }
        ];

        let currentQuestion = 0;
        let score = 0;

        function loadQuiz() {
            const quizContent = document.getElementById('quizContent');
            quizContent.innerHTML = '';
            currentQuestion = 0;
            score = 0;
            showQuestion();
        }

        function showQuestion() {
            const quizContent = document.getElementById('quizContent');
            
            if (currentQuestion >= quizQuestions.length) {
                quizContent.innerHTML = `
                    <div style="text-align: center; padding: 40px;">
                        <h3 style="font-size: 2em; margin-bottom: 20px;">Quiz Complete! üéâ</h3>
                        <p style="font-size: 1.5em;">You got ${score} out of ${quizQuestions.length} correct!</p>
                        <div class="cat-decoration">üòªüíïüò∫</div>
                        <button class="btn" onclick="loadQuiz()">Try Again</button>
                    </div>
                `;
                return;
            }

            const q = quizQuestions[currentQuestion];
            quizContent.innerHTML = `
                <div class="quiz-question">
                    <h3 style="margin-bottom: 20px;">Question ${currentQuestion + 1} of ${quizQuestions.length}</h3>
                    <p style="font-size: 1.3em; margin-bottom: 20px;">${q.question}</p>
                    <div class="quiz-options">
                        ${q.options.map((option, index) => `
                            <div class="quiz-option" onclick="selectAnswer(${index})">
                                ${option}
                            </div>
                        `).join('')}
                    </div>
                </div>
            `;
        }

        function selectAnswer(selected) {
            const q = quizQuestions[currentQuestion];
            const options = document.querySelectorAll('.quiz-option');
            
            options.forEach((option, index) => {
                option.style.pointerEvents = 'none';
                if (index === q.correct) {
                    option.classList.add('correct');
                } else if (index === selected) {
                    option.classList.add('incorrect');
                }
            });

            if (selected === q.correct) {
                score++;
            }

            setTimeout(() => {
                currentQuestion++;
                showQuestion();
            }, 1500);
        }
    </script>
</body>
</html>