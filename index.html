<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy 3rd Anniversary!</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Georgia', serif;
            background: linear-gradient(135deg, #f5e6d3 0%, #e8d5c4 100%);
            color: #5a4a42;
            line-height: 1.6;
            min-height: 100vh;
        }

        /* Password Page */
        #passwordPage {
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            padding: 20px;
        }

        #passwordPage.hidden {
            display: none;
        }

        .password-container {
            background: white;
            padding: 60px 40px;
            border-radius: 20px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
            text-align: center;
            max-width: 500px;
            width: 100%;
            animation: fadeIn 1s;
        }

        .password-container .cat-decoration {
            font-size: 4em;
            margin-bottom: 20px;
            animation: float 3s ease-in-out infinite;
        }

        .password-container .cat-decoration img {
            width: 120px;
            height: 120px;
            object-fit: contain;
        }

        .password-container h1 {
            color: #8b6f6f;
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .password-container p {
            color: #a08080;
            font-size: 1.2em;
            margin-bottom: 30px;
        }

        .password-input {
            width: 100%;
            padding: 15px;
            font-size: 1.2em;
            border: 2px solid #c4d7ed;
            border-radius: 10px;
            text-align: center;
            font-family: 'Georgia', serif;
            margin-bottom: 20px;
            transition: all 0.3s;
        }

        .password-input:focus {
            outline: none;
            border-color: #ffd6e0;
            box-shadow: 0 0 10px rgba(255, 214, 224, 0.5);
        }

        .password-btn {
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, #ffd6e0 0%, #c4d7ed 100%);
            border: none;
            border-radius: 10px;
            font-size: 1.2em;
            color: #5a4a42;
            cursor: pointer;
            font-family: 'Georgia', serif;
            transition: all 0.3s;
            font-weight: bold;
        }

        .password-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .error-message {
            color: #d44;
            margin-top: 15px;
            font-size: 1em;
            opacity: 0;
            transition: opacity 0.3s;
        }

        .error-message.show {
            opacity: 1;
        }

        .hint-message {
            color: #8b6f6f;
            background: #ffd6e0;
            padding: 15px;
            border-radius: 10px;
            margin-top: 20px;
            font-size: 1em;
            opacity: 0;
            transition: opacity 0.3s;
        }

        .hint-message.show {
            opacity: 1;
        }

        /* Main Website */
        #mainWebsite {
            display: none;
        }

        #mainWebsite.show {
            display: block;
        }

        /* Surprise Box Page */
        #surpriseBoxPage {
            display: none;
            min-height: 100vh;
            align-items: center;
            justify-content: center;
            padding: 20px;
            perspective: 1000px;
        }

        #surpriseBoxPage.show {
            display: flex;
        }

        .surprise-container {
            text-align: center;
            max-width: 600px;
        }

        .surprise-container h2 {
            color: #8b6f6f;
            font-size: 2em;
            margin-bottom: 40px;
        }

        .box-scene {
            width: 400px;
            height: 400px;
            margin: 0 auto;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .gift-box-3d {
            position: relative;
            cursor: pointer;
            transition: transform 0.3s;
            font-size: 250px;
            text-align: center;
        }

        .gift-box-3d:hover {
            transform: scale(1.1);
        }

        .box-base {
            filter: drop-shadow(0 10px 30px rgba(0, 0, 0, 0.3));
        }

        /* Click button - hidden */
        .click-button {
            display: none;
        }

        /* Opening animation */
        .gift-box-3d.opening .box-base {
            animation: boxExplode 1s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards;
        }

        @keyframes boxExplode {
            0% {
                transform: scale(1) rotate(0deg);
                opacity: 1;
            }
            50% {
                transform: scale(1.3) rotate(10deg);
                opacity: 0.5;
            }
            100% {
                transform: scale(2) rotate(20deg);
                opacity: 0;
            }
        }

        .gift-box-3d.opening .click-button {
            display: none;
        }

        .gift-box-3d.opening {
            animation: gentleShake 0.6s;
        }

        @keyframes gentleShake {
            0%, 100% { transform: scale(1); }
            25% { transform: rotate(-5deg); }
            75% { transform: rotate(5deg); }
        }

        /* Hide all other elements */
        .box-left-side,
        .box-top-side,
        .ribbon-v,
        .ribbon-h,
        .bow {
            display: none;
        }

        /* Confetti */
        .confetti {
            position: absolute;
            width: 10px;
            height: 10px;
            background: #ffd6e0;
            opacity: 0;
        }

        .confetti.burst {
            animation: confettiBurst 1.5s ease-out forwards;
        }

        @keyframes confettiBurst {
            0% {
                opacity: 1;
                transform: translate(0, 0) rotate(0deg);
            }
            100% {
                opacity: 0;
                transform: translate(var(--tx), var(--ty)) rotate(720deg);
            }
        }

        .surprise-reveal {
            display: none;
            animation: popIn 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            line-height: 1;
        }

        .surprise-reveal.show {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0;
        }

        /* When revealed, nudge the reveal block upward so it appears closer to the top
           (only moves the revealed content; does not change GIF or text sizes) */
        .surprise-reveal.revealed {
            margin-top: -400px; /* moved further up */
            transition: margin-top 360ms ease;
        }

        @media (max-width: 480px) {
            .surprise-reveal.revealed { margin-top: -160px; }
        }

        @keyframes popIn {
            0% {
                transform: scale(0) rotate(0deg);
                opacity: 0;
            }
            50% {
                transform: scale(1.2) rotate(180deg);
            }
            100% {
                transform: scale(1) rotate(360deg);
                opacity: 1;
            }
        }

        .surprise-cat {
            font-size: 8em;
            margin: 0 0 -8px 0;
            animation: bounce 1s infinite;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }

        .surprise-message {
            font-size: 3em;
            color: #8b6f6f;
            font-weight: bold;
            margin: 0 0 0 0;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }

        .continue-btn {
            margin-top: 30px;
            padding: 15px 40px;
            background: linear-gradient(135deg, #ffd6e0 0%, #c4d7ed 100%);
            border: none;
            border-radius: 25px;
            font-size: 1.3em;
            color: #5a4a42;
            cursor: pointer;
            font-family: 'Georgia', serif;
            transition: all 0.3s;
            font-weight: bold;
        }

        .continue-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 20px rgba(0,0,0,0.3);
        }

        .click-instruction {
            color: #a08080;
            font-size: 1.2em;
            margin-top: 30px;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .page {
            display: none;
            animation: fadeIn 0.5s;
        }

        .page.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }

        .header {
            text-align: center;
            padding: 60px 20px;
            background: linear-gradient(135deg, #ffd6e0 0%, #c4d7ed 100%);
            position: relative;
            overflow: hidden;
        }

        .header h1 {
            font-size: 3em;
            color: #8b6f6f;
            margin-bottom: 10px;
            animation: slideDown 1s ease-out;
        }

        .header p {
            font-size: 1.3em;
            color: #a08080;
        }

        @keyframes slideDown {
            from { transform: translateY(-50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .cat-gif {
            width: 100px;
            height: 100px;
            position: absolute;
            animation: float 3s ease-in-out infinite;
            object-fit: contain;
        }

        .cat-gif.left {
            left: 10%;
            top: 20%;
        }

        .cat-gif.right {
            right: 10%;
            top: 30%;
        }

        .cat-gif img {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }

        .nav {
            background: #f9f0e8;
            padding: 20px;
            text-align: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 100;
            display: none;
        }

        .nav.show {
            display: block;
        }

        .nav button {
            background: #c4d7ed;
            border: none;
            padding: 12px 30px;
            margin: 5px 10px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1em;
            color: #5a4a42;
            transition: all 0.3s;
            font-family: 'Georgia', serif;
        }

        .nav button:hover {
            background: #ffd6e0;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }

        .nav button.active {
            background: #ffd6e0;
            font-weight: bold;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 20px;
            min-height: 60vh;
        }

        .section {
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }

        .section h2 {
            color: #8b6f6f;
            font-size: 2.5em;
            margin-bottom: 30px;
            text-align: center;
        }

        .cat-decoration {
            text-align: center;
            font-size: 3em;
            margin: 20px 0;
        }

        /* Home Page */
        .home-content {
            text-align: center;
            padding: 20px 20px;
        }

        .home-content h2 {
            font-size: 2.5em;
            color: #8b6f6f;
            margin-bottom: 10px;
        }

        .home-content p {
            font-size: 1.3em;
            color: #6a5a5a;
            margin-bottom: 30px;
        }

        .menu-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }

        .menu-card {
            background: white;
            padding: 40px;
            border-radius: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .menu-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .menu-card .icon {
            font-size: 4em;
            margin-bottom: 20px;
        }

        .menu-card h3 {
            font-size: 1.5em;
            color: #8b6f6f;
            margin-bottom: 10px;
        }

        .menu-card p {
            color: #a08080;
            font-size: 1em;
        }

        /* Timeline */
        .timeline {
            position: relative;
            padding: 20px 0;
        }

        .timeline-item {
            display: flex;
            margin: 30px 0;
            align-items: center;
            opacity: 0;
            animation: slideIn 0.6s forwards;
        }

        .timeline-item:nth-child(even) {
            flex-direction: row-reverse;
        }

        @keyframes slideIn {
            to { opacity: 1; }
        }

        .timeline-content {
            flex: 1;
            padding: 20px;
        }

        .timeline-photo {
            width: 500px;
            height: 400px;
            border-radius: 15px;
            object-fit: cover;
            border: 5px solid #ffd6e0;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }

        .timeline-photo img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 15px;
            display: block;
        }

        .timeline-date {
            background: #c4d7ed;
            padding: 8px 20px;
            border-radius: 20px;
            display: inline-block;
            margin-bottom: 10px;
            font-weight: bold;
        }

        .timeline-description {
            font-size: 1.1em;
            color: #6a5a5a;
        }

        .placeholder-img {
            background: linear-gradient(135deg, #ffd6e0 0%, #c4d7ed 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: #8b6f6f;
            font-style: italic;
        }

        /* Memory Game */
        .memory-game {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
            margin-top: 20px;
        }

        .memory-card {
            aspect-ratio: 1;
            background: #c4d7ed;
            border-radius: 10px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2em;
            transition: transform 0.3s;
        }

        .memory-card:hover {
            transform: scale(1.05);
        }

        .memory-card.flipped {
            background: #ffd6e0;
        }

        .memory-card.matched {
            background: #b8e6b8;
            cursor: default;
        }

        /* Quiz */
        .quiz-question {
            margin: 30px 0;
        }

        .quiz-options {
            display: grid;
            gap: 15px;
            margin-top: 15px;
        }

        .quiz-option {
            background: #f9f0e8;
            padding: 15px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid transparent;
        }

        .quiz-option:hover {
            background: #c4d7ed;
            transform: translateX(5px);
        }

        .quiz-option.correct {
            background: #b8e6b8;
            border-color: #4a9d4a;
        }

        .quiz-option.incorrect {
            background: #ffb8b8;
            border-color: #d44;
        }

        /* Love Letter */
        .love-letter {
            font-size: 1.3em;
            line-height: 2;
            padding: 40px;
            background: linear-gradient(135deg, #ffd6e0 0%, #c4d7ed 100%);
            border-radius: 15px;
            text-align: left;
        }

        .love-letter p {
            margin-bottom: 20px;
        }

        .score {
            text-align: center;
            font-size: 1.5em;
            margin: 20px 0;
            color: #8b6f6f;
        }

        .btn {
            padding: 12px 30px;
            background: #ffd6e0;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1em;
            font-family: 'Georgia', serif;
            transition: all 0.3s;
            margin: 10px;
        }

        .btn:hover {
            background: #c4d7ed;
            transform: translateY(-2px);
        }

        /* Game Show Styles */
        .game-show-container {
            display: flex;
            justify-content: center;
            align-items: stretch;
            margin-top: 20px;
            width: 100%;
            gap: 25px;
        }

        .prize-ladder {
            display: none;
        }

        .prize-level {
            display: none;
        }

        .prize-level.current {
            display: none;
        }

        .prize-level.passed {
            display: none;
        }

        .game-show-main {
            flex: 1;
            /* widened for a more spacious quiz area */
            max-width: 900px;
            width: 100%;
            background: white;
            border-radius: 15px;
            padding: 36px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .question-level {
            text-align: center;
            font-size: 1.1em;
            font-weight: bold;
            color: #8b6f6f;
            margin-bottom: 20px;
        }

        .progress-bar {
            width: 200px;
            height: 600px;
            background: linear-gradient(180deg, #f0f0f0 0%, #d0d0d0 100%);
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 6px 16px rgba(0,0,0,0.15), inset 0 1px 3px rgba(255,255,255,0.5);
            display: flex;
            flex-direction: column-reverse;
            flex-shrink: 0;
            border: 2px solid #999;
            position: relative;
            padding: 4px;
            gap: 2px;
            /* increase separation from the quiz box */
            margin-right: 30px;
        }

        .progress-level {
            flex: 1;
            background: linear-gradient(180deg, #e8e8e8 0%, #c0c0c0 100%);
            border: 1px solid #999;
            border-radius: 3px;
            transition: all 300ms ease;
            position: relative;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8em;
            font-weight: bold;
            color: #666;
        }

        .progress-level::after {
            content: attr(data-iq);
            font-size: 1.1em;
            color: #555;
            text-shadow: 0 1px 1px rgba(255,255,255,0.6);
        }

        .progress-level.active {
            background: linear-gradient(180deg, #ff6b9d 0%, #ffa0c0 100%);
            border-color: #ff3366;
            box-shadow: inset 0 2px 4px rgba(255,255,255,0.4), 0 0 8px rgba(255,107,157,0.6);
        }

        .progress-level.active::after {
            color: white;
            text-shadow: 0 1px 2px rgba(0,0,0,0.3);
            font-weight: 900;
        }

        .progress-level.passed {
            background: linear-gradient(180deg, #b8e6b8 0%, #90d890 100%);
            border-color: #7aa87a;
        }

        .progress-level.passed::after {
            color: #2a5a2a;
            font-weight: 700;
        }

        .progress-fill {
            display: none;
        }

        /* Power card styles */
        .power-cards {
            display: flex;
            gap: 14px;
            justify-content: center;
            margin: 12px 0 8px 0;
        }

        .power-card {
            background: linear-gradient(135deg,#fff 0%, #f6f6f6 100%);
            border: 2px solid rgba(90,74,66,0.06);
            padding: 14px 20px;
            min-width: 110px;
            text-align: center;
            border-radius: 12px;
            box-shadow: 0 8px 18px rgba(0,0,0,0.08);
            cursor: pointer;
            font-weight: 800;
            font-size: 1.05em;
            color: #5a4a42;
            transition: transform 160ms ease, opacity 160ms ease;
            user-select: none;
        }

        .power-card:hover { transform: translateY(-4px) scale(1.02); }
        .power-card.used { opacity: 0.45; pointer-events: none; transform: none; }

        .quiz-option.disabled { opacity: 0.45; pointer-events: none; }

        .iq-display {
            text-align: center;
            font-size: 1.5em;
            font-weight: bold;
            color: #8b6f6f;
            margin: 15px 0;
            padding: 8px;
        }

        .iq-display .iq-value {
            font-size: 2em;
            color: #ff6b9d;
            font-weight: 900;
        }

        .game-over-screen {
            text-align: center;
            padding: 40px;
            background: linear-gradient(135deg, #ffd6e0 0%, #c4d7ed 100%);
            border-radius: 12px;
            display: none;
        }

        .game-over-screen.show {
            display: block;
            animation: popIn 0.6s ease-out;
        }

        .game-over-screen h3 {
            font-size: 2em;
            margin-bottom: 12px;
            color: #8b6f6f;
        }

        .game-over-screen p {
            font-size: 1.4em;
            margin: 8px 0;
            color: #5a4a42;
        }

        /* HTHT (Heart-To-Heart) styles */
        .hth-container {
            display: flex;
            flex-direction: column;
            gap: 18px;
            align-items: center;
        }


        .hth-stack {
            width: 100%;
            max-width: 720px;
            perspective: 1000px;
            position: relative;
            height: 260px;
            margin: 0 auto;
        }

        .hth-card {
            width: 400px;
            max-width: 100%;
            height: 220px;
            background: linear-gradient(180deg, #ffffff 0%, #fffaf8 100%);
            border-radius: 8px;
            padding: 18px 22px;
            box-shadow: 0 8px 22px rgba(20,20,20,0.08);
            border: 1px solid rgba(90,74,66,0.06);
            transform-origin: center;
            transition: transform 260ms ease, opacity 260ms ease, top 260ms ease, left 260ms ease, box-shadow 180ms ease;
            position: absolute;
            left: 50%;
            top: 0;
            transform: translateX(-50%);
            cursor: pointer;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: flex-start;
        }

        .hth-card:hover {
            transform: translateX(-50%) translateY(-4px);
            box-shadow: 0 14px 34px rgba(20,20,20,0.12);
        }

        .hth-card.hidden { opacity: 0; pointer-events: none; transform: translateX(-50%) translateY(-30px) scale(0.985); }

        .hth-card h3 { color: #8b6f6f; margin-bottom: 8px; }

        .hth-card p { color: #6a5a5a; font-size: 1.05em; line-height: 1.6; }

        .hth-controls { display:flex; gap:10px; justify-content:center; margin-top:12px; }

        .reflection-list { max-width:720px; margin:0 auto; padding: 10px 16px; }

        .reflection-list h4 { color: #8b6f6f; margin-bottom:8px; }

        .reflection-list ul { list-style: none; padding-left: 0; }

        .reflection-list li { background: #fff; padding: 12px 14px; margin:6px 0; border-radius:8px; box-shadow: 0 6px 14px rgba(0,0,0,0.06); color: #5a4a42; }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 2em;
            }
            
            .timeline-item {
                flex-direction: column !important;
            }
            
            .timeline-photo {
                width: 100%;
                max-width: 300px;
            }
            
            .memory-game {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .nav button {
                padding: 10px 15px;
                font-size: 0.9em;
                margin: 5px;
            }

            .menu-grid {
                grid-template-columns: 1fr;
            }

            .password-container {
                padding: 40px 30px;
            }

            .password-container h1 {
                font-size: 2em;
            }
        }
    </style>
</head>
<body>
    <!-- PASSWORD PAGE -->
    <div id="passwordPage">
        <div class="password-container">
            <div class="cat-decoration">
                <img src="https://media.giphy.com/media/3oriO0OEd9QIDdllqo/giphy.gif" alt="lock cat">
            </div>
            <h1>Enter Password</h1>
            <p>Enter 6 digit passcode to unlock!</p>
            <input type="password" id="passwordInput" class="password-input" placeholder="Enter passcode" maxlength="6">
            <button class="password-btn" onclick="checkPassword()">Enter</button>
            <div id="errorMessage" class="error-message">Incorrect passcode. Try again! üê±</div>
            <div id="hintMessage" class="hint-message">üí° Hint 1: our anniversary date</div>
        </div>
    </div>

    <!-- SURPRISE BOX PAGE -->
    <div id="surpriseBoxPage">
        <div class="surprise-container">
            <h2>You got a delivery package!</h2>
            
            <div class="box-scene">
                <div id="giftBox3D" class="gift-box-3d" onclick="openBox()">
                    <div class="click-button">Click to open!</div>
                    <div class="box-base">üéÅ</div>
                </div>
                <div id="confettiContainer"></div>
            </div>
            
            <p class="click-instruction">Click the gift box to open!</p>
            
            <div id="surpriseReveal" class="surprise-reveal">
                <div class="surprise-cat">
                    <img src="https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExNWFpb3gydDBzcnk0cHp0d3g5a2NiY2JobWtxdnNqbXJ4MWN2NXBpdSZlcD12MV9naWZzX3NlYXJjaCZjdD1n/CzBhMlhTrNlAkYLuLS/giphy.gif" alt="party cat" style="width: 400px; height: 400px; object-fit: contain;">
                </div>
                <div class="surprise-message">Happy Anniversary Stinky Rat!!</div>
                <div class="cat-decoration">üéâüíï‚ú®</div>
                <button class="continue-btn" onclick="continueToSite()">Continue to Your Surprise ‚Üí</button>
            </div>
        </div>
    </div>

    <!-- MAIN WEBSITE -->
    <div id="mainWebsite">
        <div class="header">
            <div class="cat-gif left">
                <img src="https://media3.giphy.com/media/v1.Y2lkPTc5MGI3NjExandrNmF2Ym4zYmxnZ3lkbno5cm1hbGYxbTM3YzBkbzRxMXlpNzRiNiZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/901mxGLGQN2PyCQpoc/giphy.gif" alt="cute cat">
            </div>
            <div class="cat-gif right">
                <img src="https://media0.giphy.com/media/v1.Y2lkPTc5MGI3NjExMzVieHIwcTNuZzZpd2xnamE2OTBvb3I5OWk0c3plcmJrOXptOHZiYiZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/dsMFrxB2agKf6/giphy.gif" alt="cute cat">
            </div>
            <h1 id="mainTitle">Happy 3rd Year Anniversary!</h1>
        </div>

        <div class="nav">
            <button onclick="navigateTo('home')" id="nav-home">Home</button>
            <button onclick="navigateTo('timeline')" id="nav-timeline">Our Memories</button>
            <button onclick="navigateTo('quiz')" id="nav-quiz">Game Show</button>
            <button onclick="navigateTo('letter')" id="nav-letter">Letter</button>
            <button onclick="navigateTo('htht')" id="nav-htht">HTHT</button>
        </div>

        <!-- HOME PAGE -->
        <div id="home" class="page active">
            <div class="container">
                <div class="section">
                    <div class="home-content">
                        <div class="cat-decoration">üòªüíïüò∫</div>
                        <h2>Welcome to Our Special Date!!</h2>
                        
                        <div class="menu-grid">
                            <div class="menu-card" onclick="navigateTo('timeline')">
                                <div class="icon">üì∏</div>
                                <h3>Our Memories</h3>
                                <p>Journey through our year together!!</p>
                            </div>
                            
                            <!-- Memory Game removed -->
                            
                            <div class="menu-card" onclick="navigateTo('quiz')">
                                <div class="icon">‚ùì</div>
                                <h3>Game Show</h3>
                                <p>Are you a smartie pants?</p>
                            </div>

                            <div class="menu-card" onclick="navigateTo('htht')">
                                <div class="icon">üó£Ô∏è</div>
                                <h3>HTHT</h3>
                                <p>Sharing & reflection questions for the year</p>
                            </div>

                            <div class="menu-card" onclick="navigateTo('letter')">
                                <div class="icon">üíå</div>
                                <h3>Letter</h3>
                                <p>A special message for my stinky rat üê≠</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- TIMELINE PAGE -->
        <div id="timeline" class="page">
            <div class="container">
                <div class="section">
                    <h2>Our Journey This Year üíï</h2>
                    <div class="cat-decoration">üê±üíùüò∫</div>
                    
                    <div class="timeline">
                        <div class="timeline-item" style="animation-delay: 0.1s;">
                            <div class="timeline-content">
                                <div class="timeline-date">Our first trip together!!</div>
                                <div class="timeline-description">While our trip to China was nothing exciting (quite boring actually...) it made me realized that anywhere we go is enjoyable because I have you with me. Thank you for being always by my side bbg!!</div>
                            </div>
                            <div class="timeline-photo placeholder-img"><img src="photos/China.jpg"></div>
                        </div>

                        <div class="timeline-item" style="animation-delay: 0.2s;">
                            <div class="timeline-content">
                                <div class="timeline-date">Our Vietnam Trip!!</div>
                                <div class="timeline-description">I was just looking through the photo album and I got reminded of this GOOFY picture our tour guide got us to take HAHAHA. Thank you for always doing all of these crazy things with me. You bring colors and so much joy to my life.</div>
                            </div>
                            <div class="timeline-photo placeholder-img"><img src="photos/Vietnam.jpg"></div>
                        </div>

                        <div class="timeline-item" style="animation-delay: 0.3s;">
                            <div class="timeline-content">
                                <div class="timeline-date">Your Disappointing Birthday Celebration</div>
                                <div class="timeline-description">This birthday celebration was particularly memorable for me, because I recalled how disappointed I was with myself to not be able to celebrate and love you well. 
                                    
                                But Despite all of the negative emotions that you felt, you choose to extend so much grace to me. Thank you my love, for choosing to give me grace when I fail to be a good partner.</div>
                            </div>
                            <div class="timeline-photo placeholder-img"><img src="photos/birthday.jpg"></div>
                        </div>

                        <div class="timeline-item" style="animation-delay: 0.4s;">
                            <div class="timeline-content">
                                <div class="timeline-date">Here is a picture evident that you always invade my space when we sleep together RAWR</div>
                                <div class="timeline-description">I just found this picture really funny hehe, I love to be able to wake up next to you every morning!</div>
                            </div>
                            <div class="timeline-photo placeholder-img"><img src="photos/sleeping.jpg"></div>
                        </div>

                        <div class="timeline-item" style="animation-delay: 0.5s;">
                            <div class="timeline-content">
                                <div class="timeline-date">Growing closer with you Family!</div>
                                <div class="timeline-description">One of the small but key milestones that I felt we achieved this year was being able to grow closer with your family. While your family has been super welcoming and accepting of me since the start, this year I felt like I was slowly integrating into your family as well. Super grateful and glad that convos with Chona and your dad becomes more intentional and meaningful. Big win!</div>
                            </div>
                            <div class="timeline-photo placeholder-img"><img src="photos/family.png"></div>
                        </div>

                        <div class="timeline-item" style="animation-delay: 0.6s;">
                            <div class="timeline-content">
                                <div class="timeline-date">My Crazy Pokemon Party! üî•</div>
                                <div class="timeline-description">I still can't believe you threw me this Pokemon party HAHAHA Thank you bbg for loving me so selflessly, always choosing to go above and beyond to celebrate me. </div>
                            </div>
                            <div class="timeline-photo placeholder-img"><img src="photos/pokemon.jpg"></div>
                        </div>

                        <div class="timeline-item" style="animation-delay: 0.7s;">
                            <div class="timeline-content">
                                <div class="timeline-date">We got to attend Char's Wedding together!! and dream for our own üíç</div>
                                <div class="timeline-description">I thought we looked so grown up and cool in this picture! But one of the biggest milestone we hit this year was starting to dream about our own wedding. While those conversations haven't always been easy, thank you my love, for choosing to build this dream together with me. I can't wait for the day I get to call you my wife!</div>
                            </div>
                            <div class="timeline-photo placeholder-img"><img src="photos/Char's wedding.jpg"></div>
                        </div>

                        <div class="timeline-item" style="animation-delay: 0.8s;">
                            <div class="timeline-content">
                                <div class="timeline-date">My Unemployment Season üåßÔ∏è</div>
                                <div class="timeline-description">This was perhapse one of, if not the lowest point in my life, feeling completely helpless and afraid of the uncertainty in the future. Through it all, you chooses to comfort me and remained with me, believing in me and cheering me on. Thank you my love, for always being my loudest cheerleader, believing in me when I do not believe in myself.</div>
                            </div>
                            <div class="timeline-photo placeholder-img"><img src="photos/unemployment.jpg"></div>
                        </div>

                        <div class="timeline-item" style="animation-delay: 0.9s;">
                            <div class="timeline-content">
                                <div class="timeline-date">The Banana Cake Era üçå</div>
                                <div class="timeline-description">Here is a picture of my talented chef rat baking banana cake!! Cooking and baking with you at home gave me a little glimpse of what building a homes looks like with you, and I love that hehe I can't wait to eat the unlimited amount of banana cake that you are going to make!! (with walnut of course)</div>
                            </div>
                            <div class="timeline-photo placeholder-img"><img src="photos/banana cake.jpg"></div>
                        </div>

                        <div class="timeline-item" style="animation-delay: 1s;">
                            <div class="timeline-content">
                                <div class="timeline-date">My Graduation üè´</div>
                                <div class="timeline-description">One of the things that I am super grateful for was that we got to journey with one another through our schooling years. More than just the abandant of time that we got to spend with one another, but I was also able to see and journey with you as you learn more about yourself. Thank you for always encouraging me to pursue my dreams and passion through my school years, no matter how unconventional they may be.</div>
                            </div>
                            <div class="timeline-photo placeholder-img"><img src="photos/Graduation.jpg"></div>
                        </div>

                        <div class="timeline-item" style="animation-delay: 1s;">
                            <div class="timeline-content">
                                <div class="timeline-date">The unlimited Wicked Era üîÆ</div>
                                <div class="timeline-description">While I am not the biggest fan of Wicked songs, I am the biggest fan of my bbg!! and I really love to see you sing and go crazy. Watching you smile make me the happiest man in the world. </div>
                            </div>
                            <div class="timeline-photo placeholder-img"><img src="photos/Wicked.jpg"></div>
                        </div>

                        <div class="timeline-item" style="animation-delay: 1s;">
                            <div class="timeline-content">
                                <div class="timeline-date">The LDR Era üåè</div>
                                <div class="timeline-description">Even though you are worlds apart, thank you for being my constant source of strength and comfort, always choosing to spend quality time with me even though we might not be doing anything together. All of these little things made me feel so loved all the time.</div>
                            </div>
                            <div class="timeline-photo placeholder-img"><img src="photos/LDR.png"></div>
                        </div>

                        <div class="timeline-item" style="animation-delay: 1s;">
                            <div class="timeline-content">
                                <div class="timeline-date">Our Europe Trip!! üõ´</div>
                                <div class="timeline-description">I can't wait to see you in 15 days bbg!! Let's have the most amazing time in Europe, to eat all the yummy food and take all the nice pictures together hehe this will be a placeholder for now until we can fill it up with nice photos when we are back. </div>
                            </div>
                            <div class="timeline-photo placeholder-img">T-minus 15 days!!</div>
                        </div>


                    </div>
                </div>
            </div>
        </div>

        
        <!-- QUIZ PAGE -->
        <div id="quiz" class="page">
            <div class="container">
                <div class="section">
                    <h2>Are you a smartie pants? üß†</h2>
                    <div id="quizContent"></div>
                </div>
            </div>
        </div>

        <!-- HTHT PAGE -->
        <div id="htht" class="page">
            <div class="container">
                <div class="section">
                    <h2>Reflection & Sharing Question</h2>
                    <div class="cat-decoration">üó£Ô∏èüíûüìù</div>
                    <div class="hth-container">
                        <!-- stack and reflections will be rendered by JS -->
                    </div>
                </div>
            </div>
        </div>

        <!-- LOVE LETTER PAGE -->
        <div id="letter" class="page">
            <div class="container">
                <div class="section">
                    <h2>A Letter to You üíå</h2>
                    <div class="cat-decoration">üòªüíïüò∫</div>
                    <div class="love-letter">
                        <p>My dearest stinky rat!!</p>
                        <p>Happy 3 year anniversary!! I hope that you liked the little special anniversary celebration this year hehe while dating looks a little different this year because we are half the worlds apart, thank you for remaining as my constant.</p>
                        <p>It feels like we went through so many different seasons this year. At the start of the year, we were both just two broke students enjoying our school life, then we begin to do more ‚Äúadult‚Äù things together. We went to shop for our rings and we begin to start dreaming about our wedding, our home and future together. </p>
                        <p>Though some part of the conversation were not easy to navigate, it was in those moments that I was reminded of why I fell in love with you. You were gentle with your words, and patient to listen to every fear and insecurities I have, even though you were also hurting too. In so many of those moments, you sacrifice on your ‚Äúrights‚Äù for the sake of us. It is because of how you love, that we are able to have such a wonderful relationship together.</p>
                        <p>Thank you bbg for being my constants throughout all these years. More than just being a voice of reason when I am overwhelmed by fear and uncertainty, but also a Godly partner who continually reminds me of God's goodness and faithfulness in our journey together. Thank you for choosing to sit with me in silence, and crying with me at my lowest this year. You always choose to gently pick me up and push me forward, believing in a version of me that I sometimes struggled to see in myself. Thank you bbg, for giving me the gift and privilege to be loved by you ‚ù§Ô∏è</p>
                        <p>Ever since we started dating, I‚Äôve always wondered what our future will look like. But in every of those dreams that I have, you are the constant that will never change. There is not a single sense of doubt that you are the love of my life, and the one who I want to do this life with. No matter that the future holds, it will be complete because I have you by my side. </p>
                         <p>I love you bbg! And I will keep telling it to you everyday, for the rest of our lives! Here is to another lovely year together and many more together ‚ù§Ô∏è</p>
                        <p style="text-align: right; margin-top: 50px;">Zac 2025</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const correctPassword = "051222";
        let wrongAttempts = 0;

        // Check password on Enter key
        document.getElementById('passwordInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                checkPassword();
            }
        });

        function checkPassword() {
            const input = document.getElementById('passwordInput').value;
            const errorMsg = document.getElementById('errorMessage');
            const hintMsg = document.getElementById('hintMessage');
            
            if (input === correctPassword) {
                // Correct password - show surprise box page
                document.getElementById('passwordPage').classList.add('hidden');
                document.getElementById('surpriseBoxPage').classList.add('show');
            } else {
                // Wrong password - increment attempts and show error and hint
                wrongAttempts++;
                
                // Update hint based on number of attempts
                if (wrongAttempts === 1) {
                    hintMsg.innerHTML = 'üí° Hint 1: our anniversary date';
                } else if (wrongAttempts === 2) {
                    hintMsg.innerHTML = 'üí° Hint 2: DDMMYY';
                } else if (wrongAttempts >= 3) {
                    hintMsg.innerHTML = 'üí° Hint 3: December 2022';
                }
                
                errorMsg.classList.add('show');
                hintMsg.classList.add('show');
                document.getElementById('passwordInput').value = '';
                document.getElementById('passwordInput').focus();
                
                // Hide error after 3 seconds (but keep hint visible)
                setTimeout(() => {
                    errorMsg.classList.remove('show');
                }, 3000);
            }
        }

        // Surprise Box Functions
        function openBox() {
            const giftBox = document.getElementById('giftBox3D');
            const surpriseReveal = document.getElementById('surpriseReveal');
            const clickInstruction = document.querySelector('.click-instruction');
            const surpriseHeading = document.querySelector('#surpriseBoxPage .surprise-container h2');
            
            // Hide the top heading immediately when the box is clicked
            if (surpriseHeading) surpriseHeading.style.display = 'none';

            // Add opening animation
            giftBox.classList.add('opening');
            
            // Create confetti burst
            createConfetti();
            
            // After animation, show surprise and nudge the reveal up
            setTimeout(() => {
                giftBox.style.display = 'none';
                clickInstruction.style.display = 'none';
                // add both classes: show -> makes it visible, revealed -> moves it upward
                surpriseReveal.classList.add('show');
                surpriseReveal.classList.add('revealed');
            }, 1500);
        }

        function createConfetti() {
            const container = document.getElementById('confettiContainer');
            const colors = ['#ffd6e0', '#c4d7ed', '#ff6b9d', '#ffb3c6', '#a8c4e8'];
            
            for (let i = 0; i < 50; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                confetti.style.left = '50%';
                confetti.style.top = '50%';
                
                const tx = (Math.random() - 0.5) * 600;
                const ty = (Math.random() - 0.5) * 600;
                confetti.style.setProperty('--tx', tx + 'px');
                confetti.style.setProperty('--ty', ty + 'px');
                
                container.appendChild(confetti);
                
                setTimeout(() => {
                    confetti.classList.add('burst');
                }, 100);
                
                setTimeout(() => {
                    confetti.remove();
                }, 1600);
            }
        }

        function continueToSite() {
            document.getElementById('surpriseBoxPage').classList.remove('show');
            document.getElementById('mainWebsite').classList.add('show');
        }

        // Navigation
        function navigateTo(pageId) {
            // Show navigation bar when leaving home page
            const nav = document.querySelector('.nav');
            if (pageId !== 'home') {
                nav.classList.add('show');
            } else {
                nav.classList.remove('show');
            }

            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });
            
            document.getElementById(pageId).classList.add('active');
            
            document.querySelectorAll('.nav button').forEach(btn => {
                btn.classList.remove('active');
            });
            document.getElementById('nav-' + pageId).classList.add('active');
            
            if (pageId === 'quiz') {
                loadQuiz();
            } else if (pageId === 'htht') {
                initHtht();
            }
            
            window.scrollTo(0, 0);
        }

        

        // Game Show - "Who Wants to Be Our Love Millionaire"
        const prizes = [
            'üíï', 'üíñ', 'üíù', 'üíó', 'üíì', 'üíû', 'üíò', '‚ú®', 'üåü', 'üéÅ', 'üéâ', 'üéä', 'üê±', 'üòª', 'üéØ'
        ];

        const iqLadder = [1, 5, 10, 50, 100, 500, 1000, 5000, 10000, 50000, 100000, 250000, 500000];

        const quizQuestions = [
            { question: "Where did Zac first get a crush on Weis?", options: ["When Zac & Weis were writing camp opening video scripts together in the conference room", "During camp photo shoot", "Camp comm meeting at Ashlee‚Äôs house", "When Zac & Weis cried together during camp"], correct: 2 },
            { question: "What was the very first gift that Zac bought for Weis?", options: ["Bracelet", "Leather slides", "Earrings", "Laptop case"], correct: 3 },
            { question: "Where did Zac and Weis have their first kiss?", options: ["Bench near Tanjong Pagar MRT", "The park in Tampines", "At Zac‚Äôs house", "In CHURCH"], correct: 0 },
            { question: "In our date to the wildlife reserve, which animal did we not see?", options: ["Sun Bear", "Hog Deer", "Crocodile", "Red dhole"], correct: 3 },
            { question: "At the Disney immersive museum, Weis drew a Disney character for Zac. Which Disney character was it?", options: ["Minnie Mouse", "Goofy", "Daisy Duck", "Tigger"], correct: 2 },
            { question: "In the study pack that Zac prepared for Weis, what vegetable did he hide inside?", options: ["Potato", "Tomato", "Cucumber ", "Carrot"], correct: 3 },
            { question: "On our first ‚Äúdate‚Äù, what is the name of the experiential tour that we went on together?", options: ["The Legend of the Stolen Sapphire", "The curse of the missing red shoe", "The Secret of the Ivory Comb", "The ghost of the Time Capsule's Keeper"], correct: 1 },
            { question: "Out of Zac‚Äôs kindness (not simping), Zac got Weis some Donuts from Peaks & Puffs! What flavour were the donuts?", options: ["Chocolate", "Hazelnut", "Caramelised Banana", "Salted Honey & Peanut Butter"], correct: 1 },
            { question: "What is our very first concert together?", options: ["Daniel Ceaser", "1975", "The Coldplay", "Taylor Swift"], correct: 0 },
            { question: "How many times have we gone to gardens by the bay together?", options: ["3", "4", "5", "6"], correct: 1 },
            { question: "How many days into our relationship, did Zac say ‚ÄúI love you‚Äù?", options: ["1 day (6 Dec)", "2 day (7 Dec)", "3 day (8 Dec)", "4 day, 9 Dec"], correct: 0 },
            { question: "What is the circumference of Zac's butt?", options: ["76cm", "83cm", "94cm", "102"], correct: 2 },
            { question: "FINAL Question, who is the bigger SIMP", options: ["Weis", "Zac"], correct: 0 }
        ];

        let currentQuestion = 0;
        // Track whether each power card has been used
        const powerUsed = {
            fifty: false,
            hint: false,
            skip: false
        };


        function loadQuiz() {
            const quizContent = document.getElementById('quizContent');
            quizContent.innerHTML = `
                <div class="game-show-container">
                    <div class="progress-bar" id="progressBar">
                        ${[...Array(13)].map((_, i) => `<div class="progress-level" id="level-${i}" data-iq="${iqLadder[i].toLocaleString()}"></div>`).join('')}
                    </div>
                    <div class="prize-ladder" id="prizeLadder"></div>
                    <div class="game-show-main">
                        <div class="question-level" id="levelDisplay">Question 1 of 15</div>
                        <div class="iq-display">IQ: <span class="iq-value" id="iqValue">1</span></div>
                        <div class="power-cards">
                            <div class="power-card" id="power-fifty" onclick="usePower('fifty')">50/50</div>
                            <div class="power-card" id="power-hint" onclick="usePower('hint')">Hint</div>
                            <div class="power-card" id="power-skip" onclick="usePower('skip')">Skip</div>
                        </div>
                        <div id="questionContainer"></div>
                        <div class="game-over-screen" id="gameOverScreen"></div>
                    </div>
                </div>
            `;
            currentQuestion = 0;
            renderPrizeLadder();
            showQuestion();
        }

        function renderPrizeLadder() {
            const ladder = document.getElementById('prizeLadder');
            ladder.innerHTML = '';
            prizes.forEach((prize, i) => {
                const level = document.createElement('div');
                level.className = 'prize-level';
                level.textContent = `Q${i + 1}: ${prize}`;
                if (i === currentQuestion) level.classList.add('current');
                if (i < currentQuestion) level.classList.add('passed');
                ladder.appendChild(level);
            });
        }

        function updateProgressBar() {
            // Update level indicators
            for (let i = 0; i < 13; i++) {
                const level = document.getElementById(`level-${i}`);
                if (level) {
                    level.classList.remove('active', 'passed');
                    if (i < currentQuestion) {
                        level.classList.add('passed');
                    } else if (i === currentQuestion) {
                        level.classList.add('active');
                    }
                }
            }
            
            document.getElementById('levelDisplay').textContent = `Question ${currentQuestion + 1} of 13`;
            
            // Update IQ display
            const currentIQ = iqLadder[currentQuestion] || 1000000;
            document.getElementById('iqValue').textContent = currentIQ.toLocaleString();
        }

        function showQuestion() {
            updateProgressBar();
            renderPrizeLadder();

            if (currentQuestion >= quizQuestions.length) {
                showGameOver();
                return;
            }

            const q = quizQuestions[currentQuestion];
            const container = document.getElementById('questionContainer');
            container.innerHTML = `
                <div class="quiz-question">
                    <h3 style="margin-bottom: 20px; font-size: 1.3em;">${q.question}</h3>
                    <div class="quiz-options">
                        ${q.options.map((option, index) => `
                            <div class="quiz-option" onclick="selectAnswer(${index})">
                                ${option}
                            </div>
                        `).join('')}
                    </div>
                </div>
            `;
        }

        function selectAnswer(selected) {
            const q = quizQuestions[currentQuestion];
            const options = document.querySelectorAll('.quiz-option');
            
            options.forEach((option, index) => {
                option.style.pointerEvents = 'none';
                if (index === q.correct) {
                    option.classList.add('correct');
                } else if (index === selected) {
                    option.classList.add('incorrect');
                }
            });

            if (selected === q.correct) {
                setTimeout(() => {
                    currentQuestion++;
                    showQuestion();
                }, 1000);
            } else {
                setTimeout(() => {
                    showGameOver(false);
                }, 1000);
            }
        }

        // Power card handler
        function usePower(type) {
            if (powerUsed[type]) return;
            const q = quizQuestions[currentQuestion];
            const container = document.getElementById('questionContainer');
            const options = container.querySelectorAll('.quiz-option');
            if (!options || options.length === 0) return;

            if (type === 'fifty') {
                // eliminate two wrong options
                const wrong = [];
                options.forEach((opt, idx) => { if (idx !== q.correct) wrong.push(idx); });
                // randomly keep only two wrong -> remove extras until only 2 remain
                while (wrong.length > 2) {
                    const r = Math.floor(Math.random() * wrong.length);
                    wrong.splice(r, 1);
                }
                wrong.forEach(i => {
                    const opt = options[i];
                    opt.classList.add('disabled');
                });
            } else if (type === 'hint') {
                // show first-letter hint under question
                const hintEl = container.querySelector('.hint-text') || (() => {
                    const el = document.createElement('div');
                    el.className = 'hint-text';
                    el.style.marginTop = '12px';
                    el.style.fontStyle = 'italic';
                    el.style.color = '#8b6f6f';
                    container.appendChild(el);
                    return el;
                })();
                const correctOpt = q.options[q.correct] || '';
                hintEl.textContent = `20 sec to search your phone!!`;
            } else if (type === 'skip') {
                // skip to next question
                currentQuestion++;
                showQuestion();
            }

            // For fifty/hint make them single-use; allow skip to be used multiple times
            if (type === 'fifty' || type === 'hint') {
                powerUsed[type] = true;
                const btn = document.getElementById(`power-${type}`);
                if (btn) btn.classList.add('used');
            } else if (type === 'skip') {
                // briefly animate the skip button to show it worked
                const btn = document.getElementById('power-skip');
                if (btn) {
                    btn.classList.add('used');
                    setTimeout(() => btn.classList.remove('used'), 300);
                }
            }
        }

        function showGameOver(won = true) {
            const gameOverScreen = document.getElementById('gameOverScreen');
            gameOverScreen.classList.add('show');
            
            if (won) {
                gameOverScreen.innerHTML = `
                    <h3>üéâ Congratulations! üéâ</h3>
                    <p style="font-size: 1.8em; margin-top: 16px;">Final IQ: <span style="color: #ff6b9d; font-weight: 900;">1,000,000</span></p>
                    <p style="font-size: 1.4em;">You are a smarty pants with a BIG BUTT! üíï‚ú®</p>
                    <button class="btn" style="margin-top: 20px;" onclick="loadQuiz()">Play Again</button>
                `;
            } else {
                const finalIQ = iqLadder[currentQuestion - 1] || 1;
                gameOverScreen.innerHTML = `
                    <h3>Game Over üíî</h3>
                    <p>You made it to Question ${currentQuestion + 1} of 15</p>
                    <p style="font-size: 1.6em; margin-top: 12px;">Final IQ: <span style="color: #ff6b9d; font-weight: 900;">${finalIQ.toLocaleString()}</span></p>
                    <p>Your butt is so BIG! üê±</p>
                    <button class="btn" style="margin-top: 20px;" onclick="loadQuiz()">Try Again</button>
                `;
            }
        }

        // HTHT (Heart-To-Heart) ‚Äî conversation cards + reflection
        const hthtPrompts = [
            { title: 'Favorite Moment', text: 'Share your single favorite memory of us from this year and why it mattered!' },
            { title: 'Gratitude', text: 'What are the things I did this year that made you feel appreciated and loved?' },
            { title: 'Challenges', text: 'What is the hardest thing we have gone through together in our relationship this year?' },
            { title: 'Growth', text: 'What is one way you feel we grew together this year as a couple?' },
            { title: 'Discoveries', text: 'What is something new we have learnt about each other?' },
            { title: 'Future', text: 'What significant goal do you think we should aim for together as a couple next year?' }
        ];

        let hthtIndex = 0;

        function initHtht() {
            hthtIndex = 0;
            renderHtht();
            showHthtCard(0);
        }

        function renderHtht() {
            const container = document.querySelector('#htht .hth-container');
            if (!container) return;
            container.innerHTML = '';
            const stack = document.createElement('div');
            stack.className = 'hth-stack';

            hthtPrompts.forEach((p, i) => {
                const card = document.createElement('div');
                card.className = 'hth-card';

                // small offset for stacking; higher index appears beneath
                const offset = i * 8; // px
                card.style.top = offset + 'px';
                card.style.zIndex = (100 - i).toString();
                card.style.left = '50%';
                card.style.transform = 'translateX(-50%)';

                const h = document.createElement('h3');
                h.textContent = `${i + 1}. ${p.title}`;
                const pEl = document.createElement('p');
                pEl.textContent = p.text;

                card.appendChild(h);
                card.appendChild(pEl);

                // clicking advances to next card
                card.addEventListener('click', (e) => {
                    e.stopPropagation();
                    showHthtCard(i + 1);
                });

                stack.appendChild(card);
            });

            container.appendChild(stack);
        }

        function showHthtCard(idx) {
            const stack = document.querySelectorAll('#htht .hth-stack .hth-card');
            if (!stack || stack.length === 0) return;

            // clamp
            if (idx < 0) idx = 0;
            if (idx > stack.length) idx = stack.length;

            hthtIndex = idx;

            stack.forEach((card, i) => {
                if (i < idx) {
                    // move past cards slightly up and faded
                    card.classList.add('hidden');
                    card.style.transform = 'translateX(-50%) translateY(-30px) scale(0.98)';
                    card.style.opacity = '0';
                } else {
                    // visible stack starting from current index
                    const offset = i * 8;
                    card.classList.remove('hidden');
                    card.style.top = offset + 'px';
                    card.style.transform = 'translateX(-50%)';
                    card.style.opacity = '1';
                }
            });
        }
    </script>
</body>
</html>